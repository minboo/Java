# 一、绪论	

## 1.1 研究背景及意义  

​		个人博客是人们在网络上展现自己个性的一种方式。自从互联网走进千家万户，大受人们喜爱。大家都喜欢通过网络来获取各种各样的信息。而在网络上，你也可以畅所欲言，而个人博客也是其中一种。在个人博客上，你可以发表自己的心路旅程，发表自己的工作经验，发表技术博客等等。

​		首先介绍一下什么是博客，它也被称为网络日志。博客其实就是一个网页，它是由各种各样的帖子组成。这些帖子可以是你某一天观看电影的感慨，也可以是阅读到某篇书籍的读后感，更可以是你在自己技术领域的心得。它就是一个网页，但是大家可以在上面用文字或者图片分享自己的心情等，它提供的内容可以用来进行交流。

​		博客最开始的时候是论坛下的一个子系统。最早参与博客的都是一些信息技术的一些专家和学者，讨论的都是专业技能。直到发现了博客的商业价值，一些开放了自发式的博客，大家也都发现了博客分享和讨论的趣味。越来越多的人参与进来，博客也越来越风靡盛行。

​		博客与论坛有许多的相似之处，许多朋友都分不清他们两的区别。首先，论坛和博客都可以进行交友和交流等。而其中论坛注重的是集体讨论，博客注重的是个人分享。它们两者的核心点就有着很大的区别。论坛的创建的用户是基于为众人服务，而博客是为了博主服务。它们的不同点还有在形式上的不同。博客是独立存在的。而论坛并不是。总结起来，论坛是多人一起交流的地方，互动性强，社交性强。博客是发表个人文章的地方，虽然也可以交流，但更多的还是自娱自乐。	

## 1.2 国内外发展及研究现状	

现今博客网站除了内嵌文字外，就是视频、图片、图贴、音乐。现如今网络速度快速提高，我们可以很方便的把声音，短篇影音文件放到网上，无论是在线播放还是下载，都将成为博客系统中重要的功能。由于几乎所有的开源免费的个人博客管理均为国外开发，如Typecho、WordPress、Roller、TQBlog等，有些功能不适合中国国情，不符合中国人的使用习惯，因此一套完全由中国人开发设计的新闻博客管理系统是很重要的。

现今博客还存一些问题：首先，博客开发者或者拥有着，为了吸引更多客户盲目定义了博客外观以及内容。博客页面颜色搭配太多使整个页面失去了一目了然效果，令人看的眼花缭乱。页面布局划分不规范，没整体的观念，盲目划分模块只为填充更多信息量。在内容上收入太杂，图片搭配不合理等原因，导致博客宗旨及传播的信息没能很效传播出去。动态效果运用太多当鼠标经过时，容易产生不好感觉。垃圾链接太多，容易产生反感。其次，目前的博客网站大都属于综合性的博客，上面各个方面的内容混合在一起，博客用户也各式各样。这样是达到了博客网站开放性的原则但是要在上面找到专业的，有价值的东西就会显得很困难，属于杂货铺式的公共场合。未来的博客网站将会走向专业化的道路，专业化的博客网站将更有利于向专业化的出版，咨询，软件方面扩展，也将更有利于有关专业人士采用专业的网络信息资源。它将为专业人士提供一个专业资源，专业知识交流，信息发布的既综合又专业的交流平台；最后，现如今手机PAD等手持终端设备大行其道，低头族比比皆是，若个人博客系统的页面无法美观的自适应手机pad等手持终端，对于博客系统使用者来说几乎是灾难性的。

总之，现今博客虽然已不再是个新事物，但是未来博客能发展到什么程度还是个未知数。可以确定是倾向专业化的博客网站将大量兴起，可以让更多专业学术的交流有个好的网络交流环境，滋生特色资源库。

## 1.3 本文主要内容	

研究内容：新闻博客管理系统主要由系统设置模块、用户管理模块、系统日志模块和新闻编辑模块四部分组成。主要内容如下：

![image](https://user-images.githubusercontent.com/69302396/151180034-48dd749b-8e2a-4d81-993b-45c5c04a4639.png)

系统设置模块：负责管理本系统的菜单信息、用户角色及其权限管理。主要包括用户信息及设置用户权限功能；对系统数据库的内容进行备份；设置系统各项参数。

用户管理模块：负责系统的多用户管理，系统允许用户自注册，因此需要对用户行为和属性进行管理，用户的登录登出日志均应记录。

系统日志模块：负责系统的所有日志的记录、查询等，如用户登录日志、用户注册日志、新闻发布日志、新闻删除日志等。

新闻管理模块：负责新闻博客内容的管理，包括编辑新的博客，给博客做分类，博客的评论管理，博客文章的阅读次数统计等。

可行性分析：本系统使用Java配合SSM框架和MySQL数据库技术进行开发，Java作为已经非常成熟的语言，广泛用于服务器、安卓APP等场景，现在有越来越多的企业及技术人员选择它来作为开发平台，在技术上Java是完全可以胜任这个平台的开发；MySQL是全球最流行的数据库，淘宝网站的数据库就是基于MySQL优化开发的。

# 二、相关技术介绍

## 2.1 B/S简介

​		软件系统体系结构分为两种，是客户机/服务器结构和浏览器/服务器结构。其中的浏览器/服务器结构就是B/S结构。

​		C/S模式：是客户端/服务器(Client/Server)模式，主要指的是传统的桌面级的应用程序。比如我们经常用的信息管理系统。

​		B/S模式：是浏览器/服务器(Browser/Server)模式，主要指的是web应用程序，就像电子商务网站，如淘宝，阿里巴巴等。相对于C/S模式的应用程序来说，B/S模式最大的优势在于客户端只要有浏览器就可以运行。而C/S模式的应用程序需要在客户端进行安装，而且升级也不太方便。而B/S模式的应用程序对于客户端来说，永远都是最新版本的。

## 2.2 jsp简介

​		Jsp是服务端技术，与微软的ASP一样，是一种动态网页的技术，不过jsp是使用Java语言技术开发的技术，jsp使用的时候会被jsp引擎解析成Servlet代码，而jsp虽然可以写Java代码，但是jsp主要的作用是为了展示视图，所以jsp+javabean 可以很好的解决代码混淆问题，然后将视图与逻辑分离。

## 2.3 spring介绍

依赖注入的核心思想之一就是被容器管理的类不应该依赖被容器管理的依赖，换成白话来说就是如果这个类使用了依赖注入的类，那么这个类摆脱了这几个依赖必须也能正常运行。
## 2.4 springmvc简介

​		SpringMVC是一种现今十分流行的WEB框架，它的作用是使用了MVC思想设计模式对web层进行解耦。是用来接受请求和处理请求的。

​		SpringMVC处理请求的流程是如下：首先用户从浏览器中发送请求；之后它SpringMVC的核心组件DispacherServlet 前端控制器根据请求信息也即是url的信息来选择一个页面控制器进行处理；页面控制器接受得到委托之后，它首先会收集和绑定参数到某个对象中，然后调用业务对象进行业务逻辑代码处理，处理结束后返回ModelAndView。前端控制器根据视图的名字渲染相应的视图然后将响应传到前台去。

## 2.5 mybatis简介

## 2.6 maven简介

# 三、整体方案设计

## 3.1系统概述

本个人博客系统分为两个角色，分别是博主和游客。只有博主才能登录后台管理系统，进行博客发表。

​		1.首先要通过用户名和密码登录后台管理系统，才能发布博客。

​		2.博主和游客都可以阅读博客。

​		3.博主和游客都可以发表评论。

​		4.经过博主的评论审核，评论才可以发布。

​		5.此时博主和游客才可以观看到评论。

## 3.2方案设计

## 3.3方案论证

# 四、系统设计  

## 4.1 系统总流程

## 4.2 博主用例

## 4.3 游客用例

## 4.4 系统类

## 4.5 E-R图

## 4.6 系统表设计  

# 第五章  系统实现  

## 5.1 登录模块

## 5.1.1 博主登录

## 5.2 博客管理模块

## 5.2.1 博客查询

## 5.2.2 博客新建

## 5.2.3 博客修改

## 5.2.4 博客删除   

# 5.3 博客类别管理模块  

## 5.3.1 添加博客类别

## 5.3.2 修改博客类别

## 5.3.3 删除博客类别

## 5.3.4 显示博客类别

## 5.4 评论管理模块

## 5.4.1 审核评论

## 5.4.2 删除评论  

# 第六章  系统测试

## 6.1 前台模块测试

## 6.2 后台模块测试  

# 参考文献

# 致  谢







## 遇到的问题

###  1、在编辑个人资料时，提交修改后，退出登录后重新登录会导致原密码失效的bug  

问题原因，是因为在编辑页面也有密码修改栏，会出现即使原密码没有改动的情况下，也会把当前md5加密后的密码随着表单数据提交到后台，导致这个密码再次被加密，所以产生密码错误。

解决方法，在后台修改密码处，判断密码是否和数据库中的相同，若不相同，执行修改密码操作，反之不执行操作。

**修改前**

```java
	
	@RequestMapping(value = "/admin/profile/save", method = RequestMethod.POST)
    public String saveProfile(User user, HttpSession session) {
        User dbUser = (User) session.getAttribute("user");

        user.setUserId(dbUser.getUserId());

        // 把密码加密
        String md5_password = Md5Util.md5(user.getUserPass(), user.getUserName());

        // 再把加密后的密码添加到user
        user.setUserPass(md5_password);
        userService.updateUser(user);
        return "redirect:/admin/profile";
    }
```

**修改后**

```java
	
	@RequestMapping(value = "/admin/profile/save", method = RequestMethod.POST)
    public String saveProfile(User user, HttpSession session) {
        User sessionUser = (User) session.getAttribute("user");
        user.setUserId(sessionUser.getUserId());

        User dbUser = userService.getUserById(sessionUser.getUserId());
        if (!user.getUserPass().equals(dbUser.getUserPass())){
            // 把密码加密
            String md5_password = Md5Util.md5(user.getUserPass(), user.getUserName());
            // 再把加密后的密码添加到user
            user.setUserPass(md5_password);
        }

        userService.updateUser(user);
        return "redirect:/admin/profile";
    }

```

解决问题
